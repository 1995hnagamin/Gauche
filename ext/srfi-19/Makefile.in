srcdir       = @srcdir@
top_builddir = @top_builddir@
top_srcdir   = @top_srcdir@

SCM_CATEGORY = 

include ../Makefile.ext

LIBFILES = srfi-19-lib.$(SOEXT)
SCMFILES = srfi-19.scm srfi-19/read-tai.scm

GENERATED = Makefile srfi-19-lib.c srfi-19_head.c srfi-19_tail.c

OBJECTS = srfi-19_head.$(OBJEXT) srfi-19-lib.$(OBJEXT) srfi-19_tail.$(OBJEXT)

all : $(LIBFILES)

srfi-19-lib.$(SOEXT) : $(OBJECTS) 
	$(MODLINK) srfi-19-lib.$(SOEXT) $(OBJECTS) $(EXT_LIBGAUCHE) $(LIBS)

srfi-19_head.c srfi-19_tail.c :
	$(GAUCHE_CONFIG) --fixup-extension srfi-19

srfi-19-lib.c : srfi-19-lib.scm
	$(GOSH) gencomp --ext-module srfi-19.scm srfi-19-lib.scm

install : install-std

