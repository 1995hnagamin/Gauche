srcdir       = @srcdir@
top_builddir = @top_builddir@
top_srcdir   = @top_srcdir@

SCM_CATEGORY = gauche

include ../Makefile.ext

LIBFILES = auxsys.$(SOEXT)
SCMFILES = auxsys.scm

GENERATED = Makefile auxsysconf.h
XCLEANFILES = auxsyslib.c auxsys_head.c auxsys_tail.c

OBJECTS = auxsys_head.$(OBJEXT) auxsys.$(OBJEXT) auxsyslib.$(OBJEXT) auxsys_tail.$(OBJEXT)

all : $(LIBFILES)

auxsys.$(SOEXT) : $(OBJECTS) 
	$(MODLINK) auxsys.$(SOEXT) $(OBJECTS) $(EXT_LIBGAUCHE) $(LIBS)

auxsys_head.c auxsys_tail.c :
	$(GAUCHE_CONFIG) --fixup-extension auxsys

auxsyslib.c : auxsyslib.stub

install : install-std

