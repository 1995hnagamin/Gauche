srcdir       = @srcdir@
top_builddir = @top_builddir@
top_srcdir   = @top_srcdir@

include ../Makefile.ext

SCM_CATEGORY = gauche

LIBFILES = gauche--threads.$(SOEXT)
SCMFILES = threads.scm

OBJECTS = threads.$(OBJEXT) mutex.$(OBJEXT) thrlib.$(OBJEXT)

GENERATED = Makefile 
XCLEANFILES = thrlib.c

all : $(LIBFILES)

gauche--threads.$(SOEXT) : $(OBJECTS) 
	$(MODLINK) gauche--threads.$(SOEXT) $(OBJECTS) $(EXT_LIBGAUCHE) $(LIBS)

thrlib.c : thrlib.stub

install : install-std

